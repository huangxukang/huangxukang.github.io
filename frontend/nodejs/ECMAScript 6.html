<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ECMAScript 6 | 黄旭康的博客</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="shortcut icon" href="/img/huang.png">
    <meta name="description" content="黄旭康的博客">
    <link rel="preload" href="/assets/css/0.styles.9b961cba.css" as="style"><link rel="preload" href="/assets/js/app.93f8e8db.js" as="script"><link rel="preload" href="/assets/js/2.8bff3460.js" as="script"><link rel="preload" href="/assets/js/44.4d0a6097.js" as="script"><link rel="prefetch" href="/assets/js/10.5a943617.js"><link rel="prefetch" href="/assets/js/11.a5a8b097.js"><link rel="prefetch" href="/assets/js/12.bee40716.js"><link rel="prefetch" href="/assets/js/13.7b0441e3.js"><link rel="prefetch" href="/assets/js/14.eaebc7c0.js"><link rel="prefetch" href="/assets/js/15.770feca4.js"><link rel="prefetch" href="/assets/js/16.56b9aeb8.js"><link rel="prefetch" href="/assets/js/17.cfdb715d.js"><link rel="prefetch" href="/assets/js/18.12657a24.js"><link rel="prefetch" href="/assets/js/19.f3bf3fb2.js"><link rel="prefetch" href="/assets/js/20.95141335.js"><link rel="prefetch" href="/assets/js/21.49c9d821.js"><link rel="prefetch" href="/assets/js/22.9955bfcb.js"><link rel="prefetch" href="/assets/js/23.b9077c80.js"><link rel="prefetch" href="/assets/js/24.ef4d714d.js"><link rel="prefetch" href="/assets/js/25.05443566.js"><link rel="prefetch" href="/assets/js/26.3d7370df.js"><link rel="prefetch" href="/assets/js/27.4cb99fd6.js"><link rel="prefetch" href="/assets/js/28.f932fd27.js"><link rel="prefetch" href="/assets/js/29.5aa98133.js"><link rel="prefetch" href="/assets/js/3.a2d73e95.js"><link rel="prefetch" href="/assets/js/30.a32d2195.js"><link rel="prefetch" href="/assets/js/31.5ded0c12.js"><link rel="prefetch" href="/assets/js/32.7f3c828e.js"><link rel="prefetch" href="/assets/js/33.f513837c.js"><link rel="prefetch" href="/assets/js/34.7beb757c.js"><link rel="prefetch" href="/assets/js/35.7b4e5c78.js"><link rel="prefetch" href="/assets/js/36.4b37ce1f.js"><link rel="prefetch" href="/assets/js/37.3cf53c55.js"><link rel="prefetch" href="/assets/js/38.31918003.js"><link rel="prefetch" href="/assets/js/39.05b8fe7d.js"><link rel="prefetch" href="/assets/js/4.c8cc242b.js"><link rel="prefetch" href="/assets/js/40.8a97ff44.js"><link rel="prefetch" href="/assets/js/41.31ab1c86.js"><link rel="prefetch" href="/assets/js/42.682d8b80.js"><link rel="prefetch" href="/assets/js/43.aeae74d4.js"><link rel="prefetch" href="/assets/js/45.97715772.js"><link rel="prefetch" href="/assets/js/46.66055a0a.js"><link rel="prefetch" href="/assets/js/47.e0bc4ed0.js"><link rel="prefetch" href="/assets/js/48.60d7957d.js"><link rel="prefetch" href="/assets/js/49.b21f2728.js"><link rel="prefetch" href="/assets/js/5.e43cbdf3.js"><link rel="prefetch" href="/assets/js/50.c1543a6a.js"><link rel="prefetch" href="/assets/js/6.219cac7c.js"><link rel="prefetch" href="/assets/js/7.9aeaa980.js"><link rel="prefetch" href="/assets/js/8.c5521107.js"><link rel="prefetch" href="/assets/js/9.50b37756.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b961cba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">黄旭康的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">
  FrontEnd
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.softeem.xin/t_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杨标的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://47.98.159.95/my_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神三元的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://muyiy.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  木易杨前端进阶
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cxymsg.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试与进阶指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Link" class="dropdown-title"><span class="title">Link</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  思否
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_34345560/article/details/91457750" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress基本用法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_42686768/article/details/105181203" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git基本用法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/huangxukang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">
  FrontEnd
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.softeem.xin/t_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杨标的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://47.98.159.95/my_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神三元的博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://muyiy.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  木易杨前端进阶
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cxymsg.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试与进阶指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Link" class="dropdown-title"><span class="title">Link</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  思否
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_34345560/article/details/91457750" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress基本用法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_42686768/article/details/105181203" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git基本用法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/huangxukang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bootstrap</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>NodeJS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/nodejs/ECMAScript 6.html" class="active sidebar-link">ECMAScript 6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#变量的定义" class="sidebar-link">变量的定义</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#解构" class="sidebar-link">解构</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#函数扩展" class="sidebar-link">函数扩展</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#数组扩展" class="sidebar-link">数组扩展</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#set单值集合" class="sidebar-link">Set单值集合</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#map键值对集合" class="sidebar-link">Map键值对集合</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#对象扩展" class="sidebar-link">对象扩展</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#对象新特性" class="sidebar-link">对象新特性</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#string字符串扩展" class="sidebar-link">String字符串扩展</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#正则表达式" class="sidebar-link">正则表达式</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#symbol数据类型" class="sidebar-link">Symbol数据类型</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#生成器函数generator" class="sidebar-link">生成器函数Generator</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#迭代器（iterable、iterator）" class="sidebar-link">迭代器（Iterable、Iterator）</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#反射reflect" class="sidebar-link">反射Reflect</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#代理proxy" class="sidebar-link">代理Proxy</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/ECMAScript 6.html#模块化" class="sidebar-link">模块化</a></li></ul></li><li><a href="/frontend/nodejs/NodeJS异步编程.html" class="sidebar-link">NodeJS异步编程</a></li><li><a href="/frontend/nodejs/NodeJS常用模块.html" class="sidebar-link">NodeJS常用模块</a></li><li><a href="/frontend/nodejs/Express框架.html" class="sidebar-link">Express框架</a></li><li><a href="/frontend/nodejs/Egg框架.html" class="sidebar-link">Egg框架</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Sass</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ecmascript-6"><a href="#ecmascript-6" class="header-anchor">#</a> ECMAScript 6</h1> <blockquote><p><code>ECMAScript 6</code>也叫<code>ECMAScript 2015</code>，它是2015年继<code>ES5.1</code>发布后的一个版本，不建议直接在浏览器里使用，因为兼容性非常低，在学习<code>ES6</code>的过程当中，建议使用<code>nodejs</code>做为学习环境 ，因为<code>nodeJS</code>兼容<code>ES6</code></p></blockquote> <h2 id="变量的定义"><a href="#变量的定义" class="header-anchor">#</a> 变量的定义</h2> <p>在ES5里定义变量，使用的是关键字<code>var</code>，<code>var</code>有以下几个特点</p> <ul><li><p>没有块级作用域（只在定义在<code>function</code>里面的变量才有作用域）</p></li> <li><p>可以在定义之前调用</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>可以重复定义</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的三个问题在<code>ES6</code>都解决了，在<code>ES6</code>里面定义变量多了两个关键字，一个是<code>let</code> ,一个是<code>const</code></p> <h3 id="let定义变量"><a href="#let定义变量" class="header-anchor">#</a> let定义变量</h3> <ul><li><code>let</code>定义的变量，先定义后调用（先声明后调用）</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 报错</span>
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>let</code>定义的变量，有块级作用域，以花括号为块级作用域</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>   <span class="token comment">// let定义的变量形成了作用域</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 报错</span>
</code></pre></div><p><code>let</code>去定义变量的时候，一定要注意下面这种情况</p> <p>这种情况，a会报错，提示a没有被定义</p> <p>在使用<code>let</code>去定义的时候，无论使用是的全局变量还是局变量，都要在定义之后使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token string">&quot;yangbiao&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>let</code>定义的变量，不能重复定义，可以赋值</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught SyntaxError: Identifier 'a' has already been declared</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">&quot;234&quot;</span>
<span class="token comment">// 234</span>
</code></pre></div><h3 id="const定义常量"><a href="#const定义常量" class="header-anchor">#</a> const定义常量</h3> <p><code>const</code>定义的数据与<code>let</code>定义的数据保持一个特性，同时定义好的数据<strong>不允许更改栈内存值</strong></p> <p><code>const</code>只锁了栈里面的数据，而并不能锁到堆里面去，下面这种情况要注意</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
a<span class="token operator">=</span><span class="token number">456</span><span class="token punctuation">;</span> <span class="token comment">// 报错，基本数据类型在栈里面，栈是不可更改数据的</span>
</code></pre></div><p>下面这种情况可以，<code>person</code>存在栈里面的地址并没有发生改变，只是改变了堆里面的数据，并不会报错</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> person<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>
person<span class="token punctuation">.</span>sex<span class="token operator">=</span><span class="token string">&quot;男神&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 不会报错</span>
</code></pre></div><p>下面这种情况不行，<code>person</code>在进行第二赋值的时候，就会报错，这个时候改变了栈里面的地址值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> person<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>

person<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;向继发&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>    
<span class="token comment">// 直接报错</span>
</code></pre></div><p><img src="/img/nodejs/ES6-1.png" alt="ES6-1"></p> <p>使用<code>const</code>定义的时候，切记不能这么定义，不会报错，但是没有实际的值，后期也不能改变</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a<span class="token punctuation">;</span>
</code></pre></div><p>但是可以这么使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>最后一种特殊情况，<strong>方法的每次定义都是重新赋值，<code>const</code>定义的方法绝对不能够被覆盖</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">const</span> <span class="token function-variable function">sayHelo</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// 会报错  </span>
 <span class="token function-variable function">sayHelo</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="解构"><a href="#解构" class="header-anchor">#</a> 解构</h2> <h3 id="数组解构"><a href="#数组解构" class="header-anchor">#</a> 数组解构</h3> <blockquote><p>解构是变量另一种取值与赋值的方式，它针对于数组与对象</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的写法可以直接用解构为下面的写法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>如果参数的名称与参数的个数一一对应，则正好相等，但是如果不对应则要注意</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// a=1,b=2,c=undefined;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 相当于下面的写法</span>
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c<span class="token punctuation">;</span>

<span class="token comment">// 这种情况也可以通过解构来解出来</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token punctuation">[</span>c<span class="token punctuation">,</span>d<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="对象解构"><a href="#对象解构" class="header-anchor">#</a> 对象解构</h3> <blockquote><p>对象的解构与数组解构原理相同</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token comment">// 现在想取得用户名</span>
<span class="token comment">/*
    let userName = stu.userName;
    let sex=stu.sex;
    let age=stu.age;
*/</span>
<span class="token comment">// 相当于在对象里面拿出age属性值与userName属性值</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>age<span class="token punctuation">,</span>userName<span class="token punctuation">}</span><span class="token operator">=</span>stu<span class="token punctuation">;</span>
</code></pre></div><p>但是要注意，这里的<strong>变量名一定要与属性名相同</strong>，同时还可以，进行二次解构</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    hobby<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;看书&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;睡觉&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;玩游戏&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// a就是看书,b就是睡觉</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>hobby<span class="token operator">:</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">=</span>stu<span class="token punctuation">;</span>
</code></pre></div><p>刚刚上面的操作都是把对象里面的东西拿出来，现在去<strong>反向操作</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> userName<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sex<span class="token operator">=</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">;</span>
<span class="token comment">/*
    let stu={
        userName:userName,
        sex:sex,
        age:age
    }
*/</span>
<span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>创建对象的过程当中，如果属性名与属性值相同，可以像上面这种方式一样，去直接解构赋值</p> <p>如果属性名与属性值不相同，可以按下面的方式去操作</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> userName<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sex<span class="token operator">=</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">;</span>
<span class="token comment">/*
    let stu={
        userName:userName,
        sex:sex,
        age:age
    }
*/</span>
<span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
   stuName<span class="token operator">:</span>userName<span class="token punctuation">,</span>   <span class="token comment">// 直接更换属性名</span>
   sex<span class="token punctuation">,</span>
   age
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>解构只与赋值方式有关，与前面的关键字无关，用<code>let</code>和<code>var</code>也行</p></blockquote> <h2 id="函数扩展"><a href="#函数扩展" class="header-anchor">#</a> 函数扩展</h2> <blockquote><p><code>ES6</code>对方法的书写，<code>this</code>指向以及参数等都做了一些扩展</p></blockquote> <h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <blockquote><p>箭头函数也叫<code>lamdba</code>表达式,它是<code>JS</code>里面书写函数的另一种方式</p></blockquote> <h4 id="箭头函数语法格式"><a href="#箭头函数语法格式" class="header-anchor">#</a> 箭头函数语法格式</h4> <ul><li>没有参数的箭头函数</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
    setTimeout(function(){
        console.log(&quot;hello world&quot;);
    },2000);
*/</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的代码里面，箭头函数去掉了关键字<code>function</code>, 在括号与代码体之间使用<code>=&gt;</code>相连</p> <ul><li>有参数的箭头函数</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
    setTimeout(function(a,b){
        console.log(a,b);
    },1000,&quot;hello&quot;,&quot;world&quot;);
*/</span>


<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>有参数的箭头函数与没有参数的箭头函数一样，把参数写在<code>function</code>后面的扩号里面，如果是一个参数，扩号可以省略</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 这个箭头函数里面的参数只有一个，可以把扩号省略掉</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token parameter">userName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="定义普通箭头函数"><a href="#定义普通箭头函数" class="header-anchor">#</a> 定义普通箭头函数</h4> <p>之前使用箭头函数时，都是在<code>setTimeout</code>回调函数里面（回调函数使用箭头函数是非常频繁），现在只是定义一个普通的方法，也可以使用箭头函数？</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">userName</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;大家好，我叫：&quot;</span><span class="token operator">+</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">sayHelo</span><span class="token operator">=</span><span class="token parameter">userName</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;大家好，我叫&quot;</span><span class="token operator">+</span>userName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">sayHelo</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 两个参数的定义</span>
<span class="token keyword">const</span> <span class="token function-variable function">sayHello2</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;大家好，我叫&quot;</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">&quot;,我的性别是&quot;</span><span class="token operator">+</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token comment">// 没有参数的定义</span>
<span class="token keyword">const</span> <span class="token function-variable function">sayHello3</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>如果方法体里面只有一行代码，还可以省略掉花括号</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">sayHello4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">sayHello2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;大家好，我叫&quot;</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">&quot;,我的性别是&quot;</span><span class="token operator">+</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token parameter">userName</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;大家好，我叫&quot;</span><span class="token operator">+</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="箭头函数与普通函数区别"><a href="#箭头函数与普通函数区别" class="header-anchor">#</a> 箭头函数与普通函数区别</h4> <blockquote><p>箭头函数除了书写与定义方式与普通函数不一样，还有一个关键的点就是注意<code>this</code>的指向性问题。特别是对象里面<code>this</code>的指向与回调函数里面<code>this</code>的指向</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
    var obj={
        userName:&quot;杨标&quot;,
        sayHello:function(){
            //bind会生成一个新的方法
        var newfn=function(){
            console.log(this.userName)
        }.bind(this);

            setTimeout(newfn,1000)
        }
    }
 */</span>

 <span class="token comment">// 官方说明：箭头函数会绑定this指向,把箭头函数外部的this绑定到箭头函数里面去</span>
 <span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
     userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
     <span class="token function-variable function">sayHello</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 obj<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>箭头函数会绑定<code>this</code>的指向，它会将箭头函数外部的 <code>this</code>绑定到箭头函数里边去（可以反向理解：跳过当前，取上级）</p></li> <li><p>定义对象的时候，要注意对象里面不允许定义箭头函数的属性。下面的情况，拿不到当前对象的 <code>this</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
     userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
     <span class="token comment">// 这里将属性方法sayHello定义成了箭头函数，sayHello的this拿不到当前对象</span>
     <span class="token function-variable function">sayHello</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// undefined</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 obj<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="函数参数默认值"><a href="#函数参数默认值" class="header-anchor">#</a> 函数参数默认值</h3> <blockquote><p>定义方法时，可能需要使用参数，在定义参数的时候可以给它一个默认值，在<code>ES5</code>里面，需要在方法体里面处理，现在则不用了</p></blockquote> <p><strong>ES5里面</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">a</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 打印三个变量，</span>
    <span class="token comment">// 如果age没有传值 ，则age默认的值为18</span>
    age<span class="token operator">=</span>age<span class="token operator">||</span><span class="token number">18</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个时候没有传值，age就会使用方法体里面设置的默认值18</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ES6里面</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">b</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">18</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 没有传入参数，这个时候age就会使用定义的时候设置的默认值18</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 传入了具体的值，所以它是age为22</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>有多个参数的默认值，也可以</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">z<span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">2</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 10,1,2</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// undefined,1,2</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20,30,2</span>
</code></pre></div><blockquote><p>默认值，要放在参数的最后</p></blockquote> <h2 id="数组扩展"><a href="#数组扩展" class="header-anchor">#</a> 数组扩展</h2> <blockquote><p><code>ES6</code>在数组对象里面扩展了一些新的方法</p></blockquote> <ol><li><p><code>Array.from()</code></p> <p>ES5里面，将一个类数组转换成数组，需要使用<code>Arary.prototype.slice.call()</code>这种方法，<code>ES6</code>里面多了一个新的方法<code>Array.from()</code>，它可以将类数组转换成数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> arr<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token function">abc</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>Array.of()</code></p> <p>该方法用于创建数组</p> <p><code>ES5</code>里面，创建数组有两种情况</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>创建数组时，会出现直接赋值的情况</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建了个长度为6的数组</span>
<span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建了一个数组，里面的第一个元素是&quot;a&quot;</span>
<span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Array.of(...items:[])</code>这个方法返回的仍然是一个数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建了一个数组，里面的元素是6</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个方法得到的返回值是一个数组，而它的参数仍然可以是类数组的展开，所以也可以通过这一种方式把它转换成数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    <span class="token comment">// var arr=Array.from(arguments);</span>
    <span class="token keyword">var</span> arr<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
<span class="token punctuation">}</span>
<span class="token function">abc</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>Array.ptototype.fill()</code></p> <p>将数组填充成指定的元素</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 得到10个“h”的元素</span>
arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2代表开始索引，5代表结束索引的前一个</span>
arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2代表开始索引，-1代表倒数第一个（不包含）</span>
</code></pre></div></li> <li><p><code>Array.prototype.find()</code></p> <p>在数组里面查找指定条件的元素，找到以后就返回这个结果，找不到就返回<code>undefined</code>,如果有多个找到到第一个就停止</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> result<span class="token operator">=</span>cityList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>nm<span class="token operator">==</span><span class="token string">&quot;深圳&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>通过<code>find</code>去查找时，不要试图去更改正在遍历的这个数组，不然会影响结果</p></blockquote></li> <li><p><code>Array.prototype.findIndex()</code></p> <p>在数组里面根据条件查找索引，找到以后就返回索引 ，找不到就返回-1</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> result <span class="token operator">=</span> cityList<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>id<span class="token operator">==</span><span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h2 id="set单值集合"><a href="#set单值集合" class="header-anchor">#</a> Set单值集合</h2> <blockquote><p><code>Set</code>是一个不重复的类数组，不允许出现重复的元素（以前听说过键值对，但是<code>Set</code>只有值，没有键）</p></blockquote> <h3 id="set初始化"><a href="#set初始化" class="header-anchor">#</a> Set初始化</h3> <p>首先创建一个<code>Set</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 空的集合</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 集合里面存放了5个元素</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Set</code>是一个不重复的单值集合，所以向里面添加重复元素的时候，会自动过滤掉</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这时得到的结果仍然是<code>Set { 'a', 'b', 'c', 'd', 'e' }</code>，可以使用这个特性实现数组去重</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 可以使用刚刚转换数组的方法将数Set转换成数组</span>
<span class="token keyword">var</span> arr1<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token keyword">var</span> arr2<span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">...</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="set对象常用方法"><a href="#set对象常用方法" class="header-anchor">#</a> Set对象常用方法</h3> <ul><li><p><code>add()</code>，向集合里面添加元素，重复的元素添加不进去，没有限定数据类型 ,返回当前添加进去的这个<code>Set</code>对象（返回了自己，可以形成一个链式语法）</p></li> <li><p><code>delete()</code>，向集合里面删除元素，删除成功返回<code>true</code>，删除失败返回<code>false</code></p></li> <li><p><code>has()</code>，判断当前<code>Set</code>集合里有没有这个元素</p></li> <li><p><code>size</code>属性，获取当前<code>Set</code>集合里元素个数</p></li></ul> <h3 id="set对象遍历"><a href="#set对象遍历" class="header-anchor">#</a> Set对象遍历</h3> <p><code>for...in</code>只能遍历有索引的集合（有索引的集合我们叫有序集合），<code>Set</code>是一个单值集合，它没有键（也就没有索引），不能使用<code>for..in</code>遍历，但是可以使用迭代器(<code>Iterable</code>)去遍历</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// i代表提索引</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="map键值对集合"><a href="#map键值对集合" class="header-anchor">#</a> Map键值对集合</h2> <blockquote><p><code>Map</code>是键值对集合，它可以在添加的元素的过程当中，实现键与值的对应</p></blockquote> <h3 id="map初始化"><a href="#map初始化" class="header-anchor">#</a> Map初始化</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建了空的map集合</span>
<span class="token keyword">let</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面直接初始化了一个空的<code>Map</code>集合，也可以向构造函数<code>Map</code>里面传递参数初始化</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> entry <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>还可以使用下面的方式</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过对<code>Map</code>的初始化，可以知道与<code>Set</code>的区别在于，它在添加元素时，有两个参数，一个是键，一个是值</p> <p><code>Map</code>与对象非常相似，对象也叫键值对，<code>Map</code>也是键值对，都是一个<code>key</code>对应一个<code>value</code></p> <h3 id="map对象常用方法"><a href="#map对象常用方法" class="header-anchor">#</a> Map对象常用方法</h3> <ul><li><code>set()</code>，向<code>Map</code>集合里面添加键值对，但是要注意，键不允许重复，如果重复则添加不进去，会把前面的值替换掉，添加完成以后返回的就是这个<code>Map</code>，所以可以实现链式语法</li> <li><code>delete()</code>，通过一个<code>key</code>向<code>Map</code>集合里删除一个键值对，删除成功返回<code>true</code>，删除失败返回<code>false</code></li> <li><code>has()</code>，判断<code>Map</code>集合里有没有这个键</li> <li><code>size</code>属性，获取当前<code>Map</code>集合里键值对长度</li></ul> <h3 id="map对象遍历"><a href="#map对象遍历" class="header-anchor">#</a> Map对象遍历</h3> <p><code>Map</code>是键值对集合，通常情况下会有三种遍历需求</p> <ol><li>遍历所有的<code>key</code></li> <li>遍历所有的<code>value</code></li> <li>遍历所有的<code>key</code>与<code>value</code></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> m<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> keyIterator <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 返回一个key的迭代器</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>abc<span class="token operator">=</span>keyIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>done<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>abc<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> valueIterator<span class="token operator">=</span>m<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>abc<span class="token operator">=</span>valueIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>done<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>abc<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面是针对<code>key</code>与<code>value</code>的两种不同方式，仍然可以使用迭代器遍历方法<code>for...of</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 
    第一步
    for(let item of m){
        // console.log(item);
        console.log(item[0],item[1]);
    }
*/</span>

<span class="token comment">/* 
    第二步 演变 
    for(let item of m){
        let [key,value]=item;
        console.log(key,value);
    }
*/</span>

<span class="token comment">// 第三步 演变</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> m<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="对象扩展"><a href="#对象扩展" class="header-anchor">#</a> 对象扩展</h2> <blockquote><p>之前已经对于对象的解构进行了扩展，现在对对象的其它地方做扩展</p></blockquote> <h3 id="对象方法扩展"><a href="#对象方法扩展" class="header-anchor">#</a> 对象方法扩展</h3> <p>在之前创建对象里的属性方法时，可以通过 <code>function</code>来进行</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token function-variable function">sayHello</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 在ES6时面，创建属性方法就更加简便了</span>
<span class="token keyword">let</span> b<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">// 通过这种方式定义的，就一定是一个属性方法，不能用构造方法的形式调用</span>
     <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊，这是新方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><blockquote><p><strong>注意</strong>： 在第二种方式里面，这一种方式创建的属性方法它没有构造器（不能当成构造函数使用）</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">a<span class="token punctuation">.</span>sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 这是没有问题的，把sayHello当成了构造函数使用</span>
<span class="token keyword">new</span> <span class="token class-name">b<span class="token punctuation">.</span>sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 这个就会报错，提示b.sayHello is not a constructor，不是一个构造函数</span>
</code></pre></div><h3 id="对象访问器属性扩展"><a href="#对象访问器属性扩展" class="header-anchor">#</a> 对象访问器属性扩展</h3> <p>在<code>ES5</code>里，可以通过<code>Object.defineProperty</code> 来定义对象的访问器属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    firstName<span class="token operator">:</span><span class="token string">&quot;杨&quot;</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span><span class="token string">&quot;标&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 访问器属性可以在get与set的方法里面实现联动效果</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">// 定义了get的取值方法 </span>
    <span class="token function-variable function">get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 定义了set的赋值方法</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">=</span>newValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token operator">=</span>newValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取值，会自动调用get方法</span>
stu<span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">;</span>	    <span class="token comment">// 赋值，会自动调用set方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在<code>ES6</code>里，对访问器属性又重新做了一次规划</p> <p>首先可以模拟其它的编程语言（如<code>Java</code>），去写一个<code>get</code>与<code>set</code>的方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    firstName<span class="token operator">:</span><span class="token string">&quot;杨&quot;</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span><span class="token string">&quot;标&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 这个方法，当成取值的方法</span>
    <span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 下面这个方法，当成赋值方法</span>
    <span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">=</span>newValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token operator">=</span>newValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stu<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这时要注意，<code>getUserName()</code> 与<code>setUserName()</code>都是方法，不是属性，这时<code>ES6</code>是这么做的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    firstName<span class="token operator">:</span><span class="token string">&quot;杨&quot;</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span><span class="token string">&quot;标&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 这个方法，当成取值的方法</span>
    <span class="token keyword">get</span> <span class="token function">userName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是取值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 下面这个方法，当成赋值方法</span>
    <span class="token keyword">set</span> <span class="token function">userName</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">=</span>newValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token operator">=</span>newValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
stu<span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>firstName<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ES6的访问器属性本质上面还是一个方法</strong>，它在取值操作的方法前面添加了<code>get</code>关键字，在赋值操作的方法前面添加了<code>set</code>关键字，在使用访问器属性的时候，不要把它当成方法，当成一个普通的属性使用</p> <h2 id="对象新特性"><a href="#对象新特性" class="header-anchor">#</a> 对象新特性</h2> <h3 id="对象创建"><a href="#对象创建" class="header-anchor">#</a> 对象创建</h3> <p>在ES5里，可以使用下面三种方式创建对象</p> <ul><li><code>var obj=new Object()</code></li> <li><code>var obj={}</code></li> <li>new一个构造函数</li></ul> <p>在<code>ES6</code>里，多了几种创建对象的方法，其中最主要的是通过关键字<code>class</code>来进行创建</p> <p>在<code>ES5</code>里，如果要使用构造函数去创建对象，必须要先定义一个构造函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的方法里面，创建了一个构造函数<code>Person</code></p> <p>在<code>ES6</code>里，可以使用另一种方式创建</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token comment">// class创建的构造函数里，一定有一个方法constructor，如果不写，它默认给你生成</span>
    <span class="token comment">// 如果不向里面传值，可以不写</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// new的是Person，但是执行是constructor()构造方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p><code>class</code>关键字创建的<code>Person</code>通过<code>typeof</code>检测时得到的是<code>function</code>，但是这个方法只能通过关键字<code>new</code>去调用</p></li> <li><p><code>class</code>关键字创建的<code>Person</code>，默认会有一个方法<code>constructor()</code> ，可以自己写，如果不写，系统会自动生成，当不需要向对象里面传递参数的时候，就可以省略掉</p></li> <li><p><code>constructor()</code> 方法会在new的一瞬间自已调用，不需要用户手动调用</p></li></ul> <h3 id="对象继承"><a href="#对象继承" class="header-anchor">#</a> 对象继承</h3> <p>在<code>ES5</code>里，可以通过<code>prototype</code>或<code>__proto__</code>实现对象的继承关系 ，但是它们各有优缺点</p> <p><strong>通过prototype实现继承</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 在ES5里
 */</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">study</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;学生在学习&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 如果要让这个学生继承自人</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 这是通过prototype来继承</span>

<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 得到一个s对象</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span>
</code></pre></div><blockquote><p>缺点：不能够向父级对象传递参数</p> <p>优点：保留了原型链的特点，通过<code>instanceof</code>检测时，无论是检测父级还是子级，结果都为<code>true</code></p></blockquote> <p><strong>通过__proto__实现继承</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">study</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;学生在学习&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这种方式解决了参数不能传递的问题，但是又出现了一个新的问题</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
</code></pre></div><blockquote><p>缺点：原型链被破坏，通过<code>instanceof</code>检测时，父级为<code>true</code>，当前对象为<code>false</code></p> <p>优点：可以实现继承时传递参数</p></blockquote> <p><code>ES5</code>里这两种情况都没有很好的解决对象继承的问题，在<code>ES6</code>里面，通过 <code>class</code>关键字与另一个继承关键字<code>extends</code>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 人的对象的构造函数
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 学生对象Student通过extends继承了Person
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sid</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span>sid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我在学习&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;20190101&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 <code>extends</code>关键字实现继承时，要注意</p> <ul><li><p>在子类可以不写<code>constructor()</code>构造函数，系统会默认帮你创建</p></li> <li><p>如果在子类写了<code>constructor()</code> ，一定要先调用<code>super()</code>,否则会报错</p></li> <li><p>在构造函数里面，<code>this</code> 关键字必须在<code>super</code>之后</p></li></ul> <p>通过这种方式实现继承，可以解决<code>ES5</code>里存在的问题（要么不能传值，要么破坏原型链）</p> <h3 id="子级对象方法重写"><a href="#子级对象方法重写" class="header-anchor">#</a> 子级对象方法重写</h3> <p>当父级对象方法无法再满足子级对象时，可以在子级对象里面重写这个方法，只要方法名相同就行，因为<code>JS</code>里面，调用时都是先看自己有没有，如果自己有就不再去父级找了</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 人的对象的构造函数
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 学生对象Student通过extends继承了Person
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sid</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span>sid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我在学习&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是子及元素&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 在这里又通过关键字super去调用了父级元素的这个方法</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 当子级元素有的时候，不找父级元素要</span>
s<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个时候调用的就是子级元素的方法</span>
</code></pre></div><h3 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h3> <p><code>ES6</code>可以像其它编程语言一样，实现静态方法，只需借助关键字<code>static</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我在向你打招呼&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我在睡觉&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;学生在睡觉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Person<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Student<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>静态不需要new就可以通过class后面的构造函数直接调用，如<code>Person.sleep()</code></p></li> <li><p>静态方法可以实现继承</p></li> <li><p>静态方法可以实现重写</p></li></ul> <blockquote><p>在其它的编程语言里面，对象里的静态方法不能够被继承，也不能被重写</p></blockquote> <h2 id="string字符串扩展"><a href="#string字符串扩展" class="header-anchor">#</a> String字符串扩展</h2> <ol><li><code>padStart()</code></li> <li><code>padEnd()</code></li> <li><code>includes()</code></li> <li><code>startsWith()</code></li> <li><code>endsWith()</code></li></ol> <h3 id="模板字符串"><a href="#模板字符串" class="header-anchor">#</a> 模板字符串</h3> <p>在之前学习字符串时使用单引号或双引号进行字符串的定义</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str1<span class="token operator">=</span><span class="token string">'hello world'</span><span class="token punctuation">;</span>
</code></pre></div><p>上面两种定义方式都是普通的字符串，在<code>ES6</code>里面多了一个新的字符串字义方式，使用反引号来完成</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str2<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello world</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>通过这种方式定义的字符串叫模板字符串，在模板字符串里，可以很方便的拼接变量</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> userName<span class="token operator">=</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>sex<span class="token operator">=</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span>
</code></pre></div><p>如果按照普通的<code>ES5</code>的方式去拼接会很麻烦</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;大家好，我的姓名是：&quot;</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">&quot;,我的性别是：&quot;</span><span class="token operator">+</span>sex<span class="token operator">+</span><span class="token string">&quot;,我的年龄是:&quot;</span><span class="token operator">+</span>age<span class="token punctuation">;</span>
<span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;大家好，我的姓名是：&quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;，我的性别是：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;，我的年龄是：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在<code>ES6</code>里面，则很简单</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">大家好，我的姓名是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我的性别是:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，我的年龄是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>如果要在模板字符串里面拼接变量，只需要在拼接的地方给 <code>${变量名}</code>就可以</p> <p>同时模板字符串为什么叫模板字符串，因为保留了模板的功能</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">大家好!
    我的姓名是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，
    我的性别是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，
    我的年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!
                 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
                         杨标</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果将字符串通过上面的方式去书写，这时打印的str也是按照这样的格式输出打印，也会换行，也会有空格</p> <h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <blockquote><p>在<code>JS</code>里，有一个对象比较特殊，即不通过<code>object</code>创建，也不通过花括号创建，直接就可以定义，在<code>ES5</code>与<code>ES6</code>当中都有一个构造函数<code>RegExp</code>，它是正则表达式的构造函数</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">// typeof reg; 得到object是一个对象</span>
</code></pre></div><p>它有另一种快速的构建方式</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> reg<span class="token operator">=</span><span class="token regex">/ /</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>正则表达式到底是干什么用的呢？</strong></p> <p>正则表达式是对数据进行快速验证的一种方式，通过一些<strong>特殊的组合</strong>对数据进行验证</p> <h3 id="一、元字符"><a href="#一、元字符" class="header-anchor">#</a> 一、元字符</h3> <table><thead><tr><th>元字符</th> <th>对应说明</th></tr></thead> <tbody><tr><td>.</td> <td>匹配除换行符之外的任意字符</td></tr> <tr><td>\w</td> <td>匹配字母数字下划线，等同于：[a-zA-Z0-9_]</td></tr> <tr><td>\s</td> <td>匹配任意空白符</td></tr> <tr><td>\d</td> <td>匹配数字，等同于[0-9]</td></tr> <tr><td>\b</td> <td>匹配单词边界</td></tr> <tr><td>|</td> <td>或匹配，如 /x|y/ 正则可匹配x或y两个字符</td></tr> <tr><td>^</td> <td>匹配字符串的开始</td></tr> <tr><td>$</td> <td>匹配字符串的结束</td></tr></tbody></table> <h3 id="二、反义字符"><a href="#二、反义字符" class="header-anchor">#</a> 二、反义字符</h3> <table><thead><tr><th>反义字符</th> <th>对应说明</th></tr></thead> <tbody><tr><td>[^x]</td> <td>匹配除“x”之外的所有字符，其中“x”可以为任意字符</td></tr> <tr><td>[^xyz]</td> <td>同上，匹配除“x、y、z”之外的任意字符</td></tr> <tr><td>\W</td> <td>匹配除了字母、数字、下划线之外的所有字符，等同于：[^\w]</td></tr> <tr><td>\S</td> <td>匹配除空白符之外的任意字符，等同于：[^\s]</td></tr> <tr><td>\B</td> <td>匹配不是单词边界的字符，等同于：[^\b]</td></tr> <tr><td>\D</td> <td>匹配不是数字的所有字符，等同于：[^\d]</td></tr></tbody></table> <h3 id="三、转义字符"><a href="#三、转义字符" class="header-anchor">#</a> 三、转义字符</h3> <table><thead><tr><th>转义字符</th> <th>对应说明</th></tr></thead> <tbody><tr><td>\xnn</td> <td>匹配十六进制数</td></tr> <tr><td>\f</td> <td>匹配换页符，等同于：\x0c</td></tr> <tr><td>\n</td> <td>匹配换行符，等同于：\x0a</td></tr> <tr><td>\r</td> <td>匹配回车符，等同于：\x0d</td></tr> <tr><td>\t</td> <td>匹配水平制表符，等同于：\x09</td></tr> <tr><td>\v</td> <td>匹配垂直制表符，等同于：\x0b</td></tr> <tr><td>\unnnn</td> <td>匹配Unicode字符，如：\u00A0</td></tr></tbody></table> <h3 id="四、重复匹配"><a href="#四、重复匹配" class="header-anchor">#</a> 四、重复匹配</h3> <table><thead><tr><th>匹配字符</th> <th>对应说明</th></tr></thead> <tbody><tr><td>*</td> <td>重复出现零次或多次</td></tr> <tr><td>+</td> <td>重复出现一次或多次</td></tr> <tr><td>？</td> <td>重复出现零次或一次</td></tr> <tr><td>{n}</td> <td>重复出现n次</td></tr> <tr><td>{n,}</td> <td>至少重复出现n次</td></tr> <tr><td>{m,n}</td> <td>重复重现m到n次，其中，m&lt;n</td></tr></tbody></table> <h3 id="五、修饰符"><a href="#五、修饰符" class="header-anchor">#</a> 五、修饰符</h3> <table><thead><tr><th>修饰符</th> <th>对应说明</th></tr></thead> <tbody><tr><td>i</td> <td>ignoreCase的缩写，表示忽略字母的大小写</td></tr> <tr><td>m</td> <td>multiline的缩写，更改^和$的含义，使它们分别在任意一行的行首和行尾匹配， 而不仅仅在整个字符串的开头和结尾匹配。 (在此模式下,$的精确含意是:匹配\n之前的位置以及字符串结束前的位置.)</td></tr> <tr><td>g</td> <td>global的缩写，进行全局匹配，即对字符串进行全文匹配，直到字符串遍历结束</td></tr></tbody></table> <ul><li><code>test()</code>，用于测试某一个字符串是否满足正则表达式条件，如果满足就返回<code>true</code>,否则就返回<code>false</code></li> <li><code>exec()</code>，用于提取字符串中满足条件的字符串，要注意，它是一次提取一个，通过<code>while</code>循环去提取，直到提取不到为止</li></ul> <p><strong>正则表达式提取歌词</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> str<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[00:00.50]不谓侠（Cover 萧忆情Alex） - Critty
[00:01.50]词：迟意
[00:02.50]曲：潮汐-tide
[00:03.50]编曲：潮汐-tide
[00:30.80]衣襟上
[00:31.71]别好了晚霞
[00:34.16]余晖送我牵匹老马
[00:38.14]正路过
[00:39.25]烟村里人家
[00:41.40]恰似当年故里正飞花
[00:44.99]醉过风
[00:46.68]渴过茶
[00:48.59]寻常巷口寻个酒家
[00:52.44]在座皆算老友
[00:56.10]碗底便是天涯
</span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// 编写时间的正则表达式</span>
<span class="token keyword">var</span> reg<span class="token operator">=</span><span class="token regex">/\d{2}:\d{2}.\d{2}/g</span><span class="token punctuation">;</span>
<span class="token comment">// 获取时间以后的数组</span>
<span class="token keyword">var</span> timesArray<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">// 使用正则表达式方法exec去提取满足条件的字符串</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token operator">=</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   timesArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用字符串方法replace来替换，获取时间以后的文字</span>
<span class="token keyword">var</span> lrcArray <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\[\]/g</span><span class="token punctuation">,</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lrcArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用正则表达式时，还有<code>replace()</code>方法，它是字符串对象里面的方法，也可以使用正则表达式，还有<code>match()</code>也是使用正则表达式做为参数，用于检测匹配正则表达式的字符串，然后提取出来，放在数组里，这样刚刚上面的代码就使用下面的方式进行简化</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
    var timesArray=[]; 
    while((item=reg.exec(str))){
    timesArray.push(item[0]);
    }
*/</span>
</code></pre></div><p>这是原来的方式 ，使用正则对象<code>exec()</code> 方法提取，但是它一次只能提取一个，所以使用 <code>while</code> 去循环</p> <p>这时当使用字符串对象里的<code>match()</code> 方法时，就可以直接一次性获取</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> timesArray<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="symbol数据类型"><a href="#symbol数据类型" class="header-anchor">#</a> Symbol数据类型</h2> <blockquote><p><code>ES5</code>里有5种基本数据类型 ，分别是<code>Number</code>， <code>String</code>，<code>Boolean</code>，<code>Null</code>，<code>Undefined</code>，<code>ES6</code>里，添加了一种新的基本数据类型<code>Symbol</code>，理解为独一无二的</p></blockquote> <p>通过调用<code>Symbol()</code> 方法，返回一个变量，这个变量就是<code>Symbol</code>的数据类型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 0x0001</span>
 <span class="token keyword">let</span> s1<span class="token operator">=</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 得到一个Symbol数据类型 </span>

 <span class="token comment">//0x0002</span>
 <span class="token keyword">let</span> s2<span class="token operator">=</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 又一个</span>

 <span class="token comment">// 每次调用Symbol()方法所得到的数据值都不一样</span>
 <span class="token comment">// 可以理解为Symbol()返回的是一个内存地址，每一个内存地址都不一样</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token operator">==</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>	
</code></pre></div><p><strong>为什么需要一个这样的数据类型？</strong></p> <p>它是一个独一无二的东西，可以使用它做为对象的属性名，在<code>ES5</code>里，所有对象的属性名都是<code>string</code>，既然是字符串类型就有可能被覆盖，但是有了<code>symbol</code>后就不会了</p> <p><strong>在ES5里面</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj1<span class="token operator">=</span><span class="token punctuation">{</span>
     userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
     sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">let</span> obj2<span class="token operator">=</span><span class="token punctuation">{</span>
     userName<span class="token operator">:</span><span class="token string">&quot;张三丰&quot;</span><span class="token punctuation">,</span>
     age<span class="token operator">:</span><span class="token number">18</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// obj1是目标对象。obj2是源对象</span>
 Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的代码里，<code>obj1</code>与<code>obj2</code>都有一个共同的属性名<code>userName</code>，通过<code>Object.assign()</code>去进行浅拷贝 ，把<code>obj2</code>拷贝到<code>obj1</code>里时，<code>obj1</code>的属性<code>userName</code>被覆盖</p> <p><strong>在ES6里面</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 独一无二的，不可能重复</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;杨标&quot;</span>     <span class="token comment">// symbol做为属性名的时候，要使用[]括起来</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>
    <span class="token keyword">let</span> s1<span class="token operator">=</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 独一无二的，不可能重复的</span>
    <span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        sex<span class="token operator">:</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">&quot;张三丰&quot;</span>
    <span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>把不希望被覆盖的属性使用<code>symbol</code> 来表示，<code>Symbol</code>做为属性名时，要使用<code>[]</code>包含起来</p> <p><img src="/img/nodejs/ES6-2.png" alt="ES6-2"></p> <p>在上面的图片里，可以看到有两个<code>Symbol</code>，但是这两个<code>Symbol</code>属性不好区别，所以在创建<code>Symbol</code>的数据类型时，可以给它一个描述 ，这个描述相当于注释 ，不带任何实际意义</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;第一次&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 独一无二的，不可能重复</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;杨标&quot;</span>             <span class="token comment">// symbol做为属性名的时候，要使用[]括起来</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// symbol里面的参数也没有实际意思，它做一个描述信息，相当于一段注释</span>
    <span class="token keyword">let</span> s1<span class="token operator">=</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;第二次&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 独一无二的，不可能重复的</span>
    <span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        sex<span class="token operator">:</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">&quot;张三丰&quot;</span>
    <span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/img/nodejs/ES6-3.png" alt="ES6-3"></p> <p><code>Symbol</code>属性不参于<code>for...in</code>的遍历</p> <p>如果要获取这个属性名，需要使用特殊的方法<code>Object.getOwnPropertySymbols(obj1)</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sarr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sarr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取到的<code>sarr</code>的结果为<code>[ Symbol(第一次), Symbol(第二次) ]</code></p> <p><code>Symbol</code>的属性不能使用<code>.</code>来调用，要使用<code>[]</code> 调用，但是在调用时也要注意，不能够直接调用，下面的方式就是错的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;第一次&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>这时会返回<code>undefined</code> , 因为<code>Symbol</code>每次返回的都是不同的值，所以在调用<code>Symbol</code>的属性时需要先通过<code>Object.getOwnPropertySymbols(obj1)</code>获取到<code>Symbol</code>的属性名集合，然后再通过这个属性名去调用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sarr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sarr<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Symbol属性名的数组</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>sarr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调取对象里面的Symbol属性</span>
</code></pre></div><p>在之前的数据类型里，<code>Number</code>等基本数据类型都有一些固定的值，例如<code>Number.MAX_VALUE</code>或<code>Number.MIN_VALUE</code>，同样<code>Symbol</code>也有几个特殊的固定值,最重要的一个就是<code>Symbol.iterator</code></p> <p>具体使用请参看<strong>迭代器</strong>章节</p> <h2 id="生成器函数generator"><a href="#生成器函数generator" class="header-anchor">#</a> 生成器函数Generator</h2> <blockquote><p>在<code>ES5</code>里，只要定义好方法，都是调用执行，调用以后立即执行（除延时调用与循环调用），但是生成器函数不一样</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">return</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 调用abc()这个方法时，这个方法立即执行，并且返回了一个值给str</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ES6里面的生成器函数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>生成器函数与普通函数不同，它在<code>function</code> 关键字与方法名之间加了一个<code>*</code></p> <p>生成器函数调用执行以后，这个方法没有立即执行，而是生成了一个方法执行状态，接收的这个状态是暂停的，这个方法内部的代码还没有立即执行</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> result<span class="token operator">=</span><span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 这个result就是方法的执行状态</span>
</code></pre></div><p>可以调用<code>result.next()</code>方法继续执行代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(&quot;方法开始&quot;);</span>

    <span class="token comment">// 和return 一模一样</span>
    <span class="token comment">// 当生成器的代码碰到了 yield以后，就会返回这个值，但是方法没有停止，，而是暂停</span>
    <span class="token comment">// 下次再调用next()的方法的时候，代码就从这个暂停的地方开始</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;我&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;爱&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;北&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;京&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;的&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token string">&quot;雪&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> result<span class="token operator">=</span><span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// while((item=result.next()).done==false){</span>
<span class="token comment">//     console.log(item.value)</span>
<span class="token comment">// }</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> result<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当生成器里的函数碰到了<code>yield</code>以后，就会暂停，同时会把这个值先返回，如果再次调用<code>next()</code>方法，这个执行<code>result</code>会从上次暂停的地方继续执行，直到碰到下一个<code>yield</code></p> <p><strong><code>yield</code>关键字只能在生成器里面使用</strong></p> <h2 id="迭代器（iterable、iterator）"><a href="#迭代器（iterable、iterator）" class="header-anchor">#</a> 迭代器（Iterable、Iterator）</h2> <blockquote><ul><li><p>迭代器是一个接口（当一个对象只要是实现了这个接口（<code>Iterator</code>），就具备接口的能力（<code>Iterable</code>）），一个对象的内部如果有了迭代器这个东西，那么它就具备迭代的能力</p></li> <li><p>迭代的能力就是可以从对象的内部一个一个取值（ 底层使用的还是生成器函数）</p></li> <li><p><code>JS</code>里以下几种数据类型自带迭代能力<code>Array</code>，<code>Set</code>，<code>Map</code>，<code>NodeList</code>，<code>arguments</code>，<code>TypedArray</code>，<code>String</code>只要具备迭代能力，就一定可以遍历，也可以使用展开运算符</p></li> <li><p>迭代器是一个一个的取值，通过<code>next()</code>来获取结果，这个结果是一个对象，里面有<code>value</code>属性与<code>done</code>属性，当这个<code>done</code>属性为true时，代表没有取到值</p></li></ul></blockquote> <p>当一个元素要进行迭代器的遍历时，应该使用如下的方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回的类型是一个Iterable</span>
<span class="token keyword">let</span> item<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>           <span class="token comment">// item用于存储得到的值</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token operator">=</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>done<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>所有具备迭代器接口的集合在<code>ES6</code>里面提供了一种新的遍历方法<code>for...of</code>，<strong>这一种遍历方法针对的不是索引，所以这一种遍历方法拿不到索引</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// item代表当前遍历的每一项</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p><strong>Set使用 for ... of遍历</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="自定义对象实现iterable"><a href="#自定义对象实现iterable" class="header-anchor">#</a> 自定义对象实现Iterable</h3> <p>在生成器函数中，生成的<code>yield</code>就是一次一次的返回值，并且调用<code>next()</code>的方法继续执行，也可以使用<code>for...of</code>遍历</p> <p>在<code>Symbol</code> 的数据类型里，有一个值叫 <code>Symbol.iterator</code>, 这个值就是迭代专有属性，只有一个对象有了这个属性后就可以进行<code>for...of</code>迭代</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    userName<span class="token operator">:</span> <span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token comment">// 迭代是一个一个的取值</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    for(let item of obj){
        console.log(item);
    }
*/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面代码中，<code>obj</code> 对象里实现了一个接口 <code>[Symbol.iterator]</code>，实现这个接口以后，当前对象<code>obj</code>就具备了迭代 <code>Iterable</code> 能力，如果希望把所有的对象都具备迭代能力</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="反射reflect"><a href="#反射reflect" class="header-anchor">#</a> 反射Reflect</h2> <blockquote><p>反射是<code>JS</code>里面操作对象的另一种方式，使用<code>Reflect</code>来进行</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
   userName<span class="token operator">:</span><span class="token string">&quot;标哥&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li><p><code>defineProperty(target,property,descriptor)</code>，定义某一个属性</p> <p><code>target</code>要操作的目标对象，<code>property</code>要操作的属性，<code>descriptor</code>属性的描述信息</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 相当于在obj的对象上面定义了一个属性age</span>
Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    value<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    writable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token comment">// 这四个特性是之前es5里面所讲的4个特性</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>deleteProperty(target,property)</code>，删除某一个属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>get(target,propertyKey,receiver)</code>，获取某个对象的某一个属性</p> <p><code>target</code>要操作的对象，<code>properyKey</code>要操作的属性名，<code>receiver</code>如果是一个访问器属性，这个参数代表<strong>访问器属性里的<code>this</code></strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">// 访问器属性</span>
    <span class="token keyword">get</span> <span class="token function">myName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj1<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;张三丰&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 杨标</span>

<span class="token keyword">var</span> str1<span class="token operator">=</span>Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;myName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 杨标</span>

<span class="token comment">// receiver 第三个参数代表访问器属性里面的this</span>
<span class="token keyword">var</span> str2<span class="token operator">=</span>Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;myName&quot;</span><span class="token punctuation">,</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三丰</span>
</code></pre></div></li> <li><p><code>set(target,properyKey,value,receiver)</code>，设置某一个属性</p> <p>参数说明参考<code>get</code>的情况</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 它是一个特殊的属性，叫访问器属性</span>
    <span class="token keyword">get</span> <span class="token function">myName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span> <span class="token function">myName</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span>newValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj1<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;张三丰&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这个地方操作的是obj</span>
Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 这个地方操作的是obj1</span>
Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;张无忌&quot;</span><span class="token punctuation">,</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>has()</code>，判断当前对象是否有这个属性，无论是当前的还是父级的都可以，不可遍历(<code>enumerable:false</code>)属性也可以</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;杨标&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span><span class="token string">&quot;H19040001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    value<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    writable<span class="token operator">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 获取当前属性</span>
<span class="token keyword">let</span> flag1 <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token string">&quot;sid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 获取父级属性</span>
<span class="token keyword">let</span> flag2<span class="token operator">=</span>Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 获取不可遍历属性</span>
<span class="token keyword">let</span> flag3 <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true </span>
</code></pre></div></li> <li><p><code>getProrotypeOf()</code>，获取当前构造方法的<code>prototype</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;杨标&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span><span class="token string">&quot;H19040001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结果为Person的构造方法</span>
</code></pre></div></li> <li><p><code>setPrototypeOf()</code>，给某个对象设置一个父级对象（原型对象）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span><span class="token string">&quot;杨标&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span><span class="token string">&quot;H19040001&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给S指定一个父级p</span>
Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 杨标</span>
</code></pre></div></li> <li><p><code>apply(target:function,thisArg,arguments)</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>，
     <span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;李四&quot;</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>sayHello<span class="token punctuation">,</span>stu<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 当这个方法有返回值的时候，Reflect也有返回值</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>getUserName<span class="token punctuation">,</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>apply</code>会改变方法内部的<code>this</code>指向，所以在使用<code>Reflect.apply</code>的时候，也可以改变里面<code>this</code>的指向</p></li> <li><p><code>constructor()</code>，执行某一个构造方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我执行了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj2<span class="token operator">=</span>Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>constructor</code>把方法当成构造方法执行，返回创建的对象，<code>[]</code> 里面放的是参数</p></li> <li><p><code>ownKeys()</code>，该方法与<code>ES5</code>里的<code>Object.getOwnPropertyNames()</code>相同</p> <p>这个方法可以拿到<code>enumerable:false</code>的属性,但是<code>Object.keys()</code> 这个方法获取不到</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    value<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Object.getOwnPropertyNames()可以获取刚才enumerable:false的</span>

<span class="token keyword">let</span> arr1<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'userName', 'sex' ]</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'userName', 'sex', 'age' ]</span>

<span class="token keyword">let</span> arr2 <span class="token operator">=</span>  Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'userName', 'sex', 'age' ]</span>
</code></pre></div></li></ol> <p>🤔 <strong>思考</strong>：</p> <p><code>Reflect.has()</code>，<code>Object.hasOwnProperty()</code>，<code>Reflect.ownKeys()</code>，<code>Object.getOwnPropertyNames()</code>，<code>Object.keys()</code>，<code>in</code>它们对属性的检测分别是什么结果，请从不可遍历属性<code>enumerable:false</code>，子级与父级的属性这些情况去判断</p> <p>🔐 <strong>对比结果</strong>：</p> <ul><li><code>Object.keys()</code>只能获取自己的，并且是<code>enumerable:true</code></li> <li><code>for... in</code>检测这个属性在不在这个对象，同时也会去父级检测 ，但是不能检测<code>enumerable:false</code></li></ul> <h2 id="代理proxy"><a href="#代理proxy" class="header-anchor">#</a> 代理Proxy</h2> <blockquote><p>将之前对象的操作代理下来，不直接操作原来的对象，转进行操作代理对象，可以理解为把<code>ES5</code>里对象的<code>get</code>与<code>set</code>做了一次操作</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    userName<span class="token operator">:</span><span class="token string">&quot;张成&quot;</span><span class="token punctuation">,</span>
    <span class="token function">answer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我没杀人&quot;</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 这是原始对象</span>


 <span class="token comment">// 律师</span>
 <span class="token keyword">let</span> lawyer<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token comment">// 代理配置信息</span>
    <span class="token comment">// get对属性取值</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>properyName<span class="token punctuation">,</span>receiver<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 在取值之前，可以进行一系列的操作</span>
        <span class="token comment">// 常规的代理是需要极反射结合在一起的</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>properyName<span class="token operator">==</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;在我律师来之前，我保持沉默&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>properyName<span class="token punctuation">,</span>receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// set对属性赋值</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>properyName<span class="token punctuation">,</span>value<span class="token punctuation">,</span>receiver<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 在Set的赋值之前，我们可以进行一系列的操作</span>
        Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>properyName<span class="token punctuation">,</span>value<span class="token punctuation">,</span>receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lawyer<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>传统的<code>ES5</code>里，只有<code>get</code>与<code>set</code>的操作能够被拦截，但是在<code>ES6</code>的代理里，可以有很多操作都能实现</p> <p><img src="/img/nodejs/ES6-4.png" alt="ES6-4"></p> <h2 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h2> <blockquote><p>在很久很久以前，<code>JS</code>有两个模块化规范（<code>AMD</code>/<code>CMD</code>规范），后面慢慢被另一种方式取代了，叫<code>CommonJS</code>规范，<code>ES6</code>里又出了叫<code>ESModule</code>(这个规范在<code>Nodejs</code>不支持，需要借用第三方平台 如<code>webpack</code>或<code>glup</code>等)</p></blockquote> <p><code>NodeJS</code>没有<code>DOM</code>的，所以它就不会有<code>&lt;script&gt;</code>标签，没有这个标签<code>JS</code>文件之间怎么引用的呢？</p> <p><code>NodeJS</code>里提供一种特殊的文件引入机制（<code>CommonJS</code>）以实现模块化，使用关键字<code>module.exports</code>或 <code>exports</code>来完成</p> <p><code>ES6</code>本身支持模块化的（<code>ES Module</code>），但是在<code>NodeJS</code>里不支持</p> <h3 id="模块导入"><a href="#模块导入" class="header-anchor">#</a> 模块导入</h3> <p><code>CommonJS</code>使用 <code>require()</code>去导入一份<code>JS</code>文件时，相当于把这个<code>JS</code>文件拿到了当前的<code>JS</code>文件里面去</p> <p><strong>Person.js文件</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是Person.js文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Student.js文件</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 相当于把Person.js文件拿到了Student.js 里面来</span>
</code></pre></div><p>使用<code>require()</code> 方法导入时，会形成一个缓存，如果多次导入，不会再执行，所以把<code>Student.js</code>的代码换成如下时</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行<code>Student.js</code>时，控制台只输出了一句话，第一次<code>require()</code>时它是真正的导入 ，后面要是发现导入同样的文件，它会直接从缓存里面去拿值</p> <p>如果不希望它从缓存里面去拿，每次都重新导入 ，这时需要在被导入的文件后面添加代码，删除缓存</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是Person.js文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加这样的代码，则表示每次导入这个文件完成以后，就从缓存里面删除</span>
<span class="token keyword">delete</span> require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>module<span class="token punctuation">.</span>filename<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>在<code>Person.js</code>的文件里面添加上面的代码后，表示每次导入完成都从缓存里删除自己这个模块，这时在<code>Student.js</code>里多次导入<code>Person.js</code>时，会看到控制台输出了多条记录</p> <p>当使用<code>require()</code>去导入 <code>JS</code>文件时，里面的代码会执行，但是这个文件里的变量，方法，对象等都不会拿过来，如果想拿到这些变量，方法与对象，则需要被导入的文件（这里指<code>Person.js</code>）手动导出</p> <h3 id="模块导出"><a href="#模块导出" class="header-anchor">#</a> 模块导出</h3> <p>模块导出使用的不是方法，而是两个对象</p> <p><code>NodeJS</code>的模块化规范<code>CommonJS</code>里，每个文件内部都有两个自带对象，分别是<code>exports</code> 与<code>module.exports</code></p> <p><code>exports</code>是一个<strong>指针</strong>，指向了<code>module.exports</code>，<code>module.exports</code>默认是一个<strong>空的对象</strong>，这个空对象就是<code>CommonJS</code>专门用于公开这个文件里面的变量，方法以及对象的集合</p> <p>现在针对导入与导出的情况做如下代码测试</p> <p><strong>person.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是Person.js文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token operator">=</span>a<span class="token punctuation">;</span>
</code></pre></div><p><strong>Student.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通过上面的代码，可以看到a这个变量拿到了<code>Stduent.js</code>里面来执行，没有报错，这就说明<code>a</code>被导出来了</p> <p>如果需要导出多个变量或方法以及对象时，可以用如下的方式来进行</p> <p><strong>person.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;这是Person.js文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b<span class="token operator">=</span><span class="token string">&quot;你好，世界&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    a<span class="token punctuation">,</span>b  <span class="token comment">// 解构</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>student.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// let obj = require(&quot;./Person.js&quot;);</span>
<span class="token comment">// console.log(obj);</span>

<span class="token comment">// 导入以后直接解构</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导出多个，可以在导出时封装成一个对象，在导入的过程中，也可以直接使用对象</p> <h3 id="exports与module-exports的区别"><a href="#exports与module-exports的区别" class="header-anchor">#</a> exports与module.exports的区别</h3> <p><code>exports</code>是一个指针，指向了<code>module.exports</code>，而<code>CommonJS</code>里真正负责公开的是<code>module.exports</code>，这两个东西最初是相等的，都是指内存推里面存放的一个空对象<code>{}</code></p> <p>如果在导出时，直接使用下面方式是不行的，因为<code>exports</code>的内存栈地址已经不指向<code>module.exports</code>，所以<code>a</code>导不出去</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
exports<span class="token operator">=</span>a<span class="token punctuation">;</span>
</code></pre></div><p><strong>a.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> stra<span class="token operator">=</span><span class="token string">&quot;变量stra&quot;</span><span class="token punctuation">;</span>
exports<span class="token operator">=</span>stra<span class="token punctuation">;</span>
<span class="token comment">// exports已经不指向 module.exports</span>
<span class="token comment">// 真正的导出是module.exports   {}</span>
<span class="token comment">// 不允许直接更改exports的值，因为它是一个指针，指向module.exports</span>
</code></pre></div><p><strong>b.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> stra <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 这个地方的stra是一个空对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stra<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这时得到的<code>stra</code>仍然是一个空的对象<code>{}</code></p> <p><img src="/img/nodejs/ES6-5.png" alt="ES6-5"></p> <p>对<code>exports=stra</code>赋值以后的内存图如下</p> <p><img src="/img/nodejs/ES6-6.png" alt="ES6-6"></p> <p>如果真的要使用<code>exports</code>导出，则应使用对象操作属性的方法，如下所示</p> <p><strong>c.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>str<span class="token operator">=</span>str<span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊，世界&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>d.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./c.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个对象也可以直接解构</span>
</code></pre></div><p><strong><code>module.exports</code>与<code>exports</code>最好不要同时使用</strong>，如果同时使用会出现<code>exports</code>找不到<code>module.exports</code>的情况</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    abc<span class="token operator">:</span><span class="token string">&quot;abc&quot;</span>
<span class="token punctuation">}</span>
exports<span class="token punctuation">.</span>str<span class="token operator">=</span>str<span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊，世界&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果像上面这种方式，那么<code>exports</code> 又会失效，这时<code>module.exports</code>是重新赋值的，而<code>exports</code>还指向原来的对象</p> <p><img src="/img/nodejs/ES6-7.png" alt="ES6-7"></p> <p>根据内存图的解释 ，如果非要一起使用，都不应该改变内存地址</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// module.exports={</span>
<span class="token comment">//     abc:&quot;abc&quot;</span>
<span class="token comment">// }</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>abc<span class="token operator">=</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 不改变exports的地址，直接在这个对象上面的属性赋值</span>
exports<span class="token punctuation">.</span>str<span class="token operator">=</span>str<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊，世界&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在实现一个完整的对象继承</p> <p><strong>Person.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token operator">=</span>userName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span>sex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">大家好，我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 我的性别是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我的年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span>Person<span class="token punctuation">;</span>
</code></pre></div><p><strong>Student.js代码</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> Person<span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Person.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个Student如果想去继承Person对象</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sid</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>sid<span class="token operator">=</span>sid<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;杨标&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;H19040001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/bootstrap/Bootstrap.html" class="prev">
        Bootstrap
      </a></span> <span class="next"><a href="/frontend/nodejs/NodeJS异步编程.html">
        NodeJS异步编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.93f8e8db.js" defer></script><script src="/assets/js/2.8bff3460.js" defer></script><script src="/assets/js/44.4d0a6097.js" defer></script>
  </body>
</html>
